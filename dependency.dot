digraph zk {
    { node [style=filled fillcolor="blue"]  
        addAssignLookupLinearisationContributionWithV
        addAssignPermutationLinearisationContributionWithV
        verifyQuotientEvaluation
        prepareAggregatedCommitment
    }
    { node [style=filled fillcolor="yellow"]
        modexp 
        permutationQuotientContribution 
        pointNegate
        pointAddIntoDest
        pointMulIntoDest
        pointAddAssign
        evaluateLagrangePolyOutOfDomain
        pointMulAndAddIntoDest
        pointSubAssign
        lookupQuotientContribution
        addAssignRescueCustomGateLinearisationContributionWithV
        updateAggregationChallenge2
        updateAggregationChallenge1
    }
    { node [style=filled fillcolor="red"]   
        mainGateLinearisationContributionWithV
        finalPairing
        getTranscriptChallenge
        initializeTranscript
        loadProof
        loadVerificationKey
        prepareQueries
        updateTranscript
        verify
    }

    initializeTranscript -> modexp
    initializeTranscript -> updateTranscript
    initializeTranscript -> getTranscriptChallenge

    verifyQuotientEvaluation -> evaluateLagrangePolyOutOfDomain
    verifyQuotientEvaluation -> permutationQuotientContribution
    verifyQuotientEvaluation -> lookupQuotientContribution

    evaluateLagrangePolyOutOfDomain -> modexp
    lookupQuotientContribution -> modexp

    prepareQueries -> pointMulAndAddIntoDest
    prepareQueries -> mainGateLinearisationContributionWithV
    prepareQueries -> addAssignRescueCustomGateLinearisationContributionWithV
    prepareQueries -> addAssignPermutationLinearisationContributionWithV
    prepareQueries -> addAssignLookupLinearisationContributionWithV

    mainGateLinearisationContributionWithV -> pointMulIntoDest
    mainGateLinearisationContributionWithV -> pointMulAndAddIntoDest
    mainGateLinearisationContributionWithV -> pointAddAssign

    addAssignRescueCustomGateLinearisationContributionWithV -> pointMulAndAddIntoDest

    addAssignPermutationLinearisationContributionWithV -> pointMulIntoDest
    addAssignPermutationLinearisationContributionWithV -> pointSubAssign

    prepareAggregatedCommitment -> updateAggregationChallenge1
    prepareAggregatedCommitment -> pointAddIntoDest
    prepareAggregatedCommitment -> pointMulIntoDest
    prepareAggregatedCommitment -> updateAggregationChallenge2

    updateAggregationChallenge1 -> pointMulAndAddIntoDest
    updateAggregationChallenge2 -> pointMulAndAddIntoDest

    finalPairing -> pointSubAssign
    finalPairing -> pointMulAndAddIntoDest
    finalPairing -> pointNegate

    verify -> loadVerificationKey
    verify -> loadProof
    verify -> initializeTranscript
    verify -> verifyQuotientEvaluation
    verify -> prepareQueries
    verify -> prepareAggregatedCommitment
    verify -> finalPairing
}